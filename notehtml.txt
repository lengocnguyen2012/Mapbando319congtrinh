<!DOCTYPE html>
<html lang="vi" data-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B·∫£n ƒë·ªì C√¥ng tr√¨nh T·ªïng C√¥ng ty 319</title>

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="319logo.png" sizes="32x32">
    <link rel="shortcut icon" href="319logo.png" type="image/x-icon">
    <link rel="apple-touch-icon" href="319logo.png">

    <!-- Meta tags for SEO and Social Sharing -->
    <meta name="description" content="H·ªá th·ªëng b·∫£n ƒë·ªì c√¥ng tr√¨nh T·ªïng C√¥ng ty 319 - Qu·∫£n l√Ω v√† theo d√µi c√°c c√¥ng tr√¨nh x√¢y d·ª±ng tr√™n to√†n qu·ªëc">
    <meta name="keywords" content="b·∫£n ƒë·ªì c√¥ng tr√¨nh, T·ªïng C√¥ng ty 319, x√¢y d·ª±ng, qu·∫£n l√Ω c√¥ng tr√¨nh, Vi·ªát Nam">
    <meta name="author" content="T·ªïng C√¥ng ty 319 - B·ªô Qu·ªëc ph√≤ng">

    <!-- Open Graph -->
    <meta property="og:title" content="B·∫£n ƒë·ªì C√¥ng tr√¨nh T·ªïng C√¥ng ty 319">
    <meta property="og:description" content="H·ªá th·ªëng qu·∫£n l√Ω v√† theo d√µi c√¥ng tr√¨nh x√¢y d·ª±ng tr√™n to√†n qu·ªëc">
    <meta property="og:type" content="website">

    <!-- Preload critical resources -->
    <link rel="preload" href="https://api.mapbox.com/mapbox-gl-js/v3.16.0/mapbox-gl.css" as="style">
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" as="style">
    <link rel="preload" href="main.css" as="style">

    <!-- Mapbox GL JS -->
    <link href="https://api.mapbox.com/mapbox-gl-js/v3.16.0/mapbox-gl.css" rel="stylesheet">
    <script src="https://api.mapbox.com/mapbox-gl-js/v3.16.0/mapbox-gl.js"></script>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer">

    <!-- Main Styles -->
    <link rel="stylesheet" href="main.css">

    <!-- Preconnect to external domains -->
    <link rel="preconnect" href="https://api.mapbox.com">
    <link rel="preconnect" href="https://cdnjs.cloudflare.com/ajax/libs">
</head>

<body>
    <!-- Loading Screen -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
        <div class="loading-text">ƒêang t·∫£i b·∫£n ƒë·ªì...</div>
    </div>

    <div class="app-container" role="main">
        <!-- Sidebar -->
        <aside class="sidebar" role="complementary" aria-label="Th√¥ng tin c√¥ng tr√¨nh">
            <div class="sidebar-header">
                <div class="logo">
                    <div class="logo-icon" aria-hidden="true">
                        <img src="319logo.png" alt="Logo T·ªïng C√¥ng ty 319" loading="lazy">
                    </div>
                    <div class="logo-text">T·ªîNG C√îNG TY 319 B·ªò QU·ªêC PH√íNG</div>
                </div>
                <div class="subtitle">H·ªá th·ªëng b·∫£n ƒë·ªì c√¥ng tr√¨nh tr√™n to√†n qu·ªëc</div>
            </div>

            <!-- Statistics Overview -->
            <section class="stats-overview" aria-label="Th·ªëng k√™ t·ªïng quan">
                <div class="stat-card">
                    <div class="stat-value" id="totalProjects" aria-live="polite">0</div>
                    <div class="stat-label">C√¥ng tr√¨nh</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="totalProvinces" aria-live="polite">0</div>
                    <div class="stat-label">T·ªânh th√†nh</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">2009</div>
                    <div class="stat-label">NƒÉm b·∫Øt ƒë·∫ßu</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">2025</div>
                    <div class="stat-label">NƒÉm m·ªõi nh·∫•t</div>
                </div>
            </section>

            <!-- Search Section -->
            <section class="search-section" aria-label="T√¨m ki·∫øm c√¥ng tr√¨nh">
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="üîç T√¨m ki·∫øm c√¥ng tr√¨nh..." aria-label="T√¨m ki·∫øm c√¥ng tr√¨nh theo t√™n ho·∫∑c ƒë·ªãa ƒëi·ªÉm" autocomplete="off">
                    <div class="search-icon" aria-hidden="true">
                        <i class="fas fa-search"></i>
                    </div>
                </div>
            </section>

            <!-- Filter Toggle -->
            <section class="filter-toggle-section">
                <button class="filter-toggle-btn" id="toggleFilters">
                    <i class="fas fa-filter"></i>
                    <span>B·ªô l·ªçc n√¢ng cao</span>
                    <i class="fas fa-chevron-down"></i>
                </button>
            </section>

            <!-- Filter Panel -->
            <section class="filter-panel" id="filterPanel" aria-label="B·ªô l·ªçc c√¥ng tr√¨nh" style="display: none;">
                <div class="filter-section">
                    <div class="filter-group">
                        <label>Lo·∫°i c√¥ng tr√¨nh:</label>
                        <div class="filter-options" id="typeFilters">
                            <label class="filter-checkbox">
                                <input type="checkbox" value="commercial" data-filter="type">
                                <span class="checkmark" style="border-color: #e74c3c"></span>
                                Th∆∞∆°ng m·∫°i
                            </label>
                            <label class="filter-checkbox">
                                <input type="checkbox" value="transport" data-filter="type">
                                <span class="checkmark" style="border-color: #3498db"></span>
                                Giao th√¥ng
                            </label>
                            <label class="filter-checkbox">
                                <input type="checkbox" value="industrial" data-filter="type">
                                <span class="checkmark" style="border-color: #2ecc71"></span>
                                C√¥ng nghi·ªáp
                            </label>
                        </div>
                    </div>

                    <div class="filter-group">
                        <label>NƒÉm ho√†n th√†nh:</label>
                        <div class="year-range">
                            <input type="number" id="yearFrom" placeholder="T·ª´ nƒÉm" min="2000" max="2025">
                            <span>ƒë·∫øn</span>
                            <input type="number" id="yearTo" placeholder="ƒê·∫øn nƒÉm" min="2000" max="2025">
                        </div>
                    </div>

                    <div class="filter-group">
                        <label>T·ªânh th√†nh:</label>
                        <select id="provinceFilter">
                            <option value="">T·∫•t c·∫£ t·ªânh th√†nh</option>
                        </select>
                    </div>

                    <div class="filter-actions">
                        <button class="filter-btn apply-filters">√Åp d·ª•ng</button>
                        <button class="filter-btn reset-filters">ƒê·∫∑t l·∫°i</button>
                    </div>
                </div>
            </section>

            <!-- Projects List -->
            <section class="projects-list" aria-label="Danh s√°ch c√¥ng tr√¨nh">
                <h2 class="projects-title">
                    <i class="fas fa-list-ul" aria-hidden="true"></i> Danh s√°ch c√¥ng tr√¨nh
                    <span class="sr-only">, s·ª≠ d·ª•ng ph√≠m tab ƒë·ªÉ di chuy·ªÉn gi·ªØa c√°c c√¥ng tr√¨nh</span>
                </h2>
                <div id="projectsList" role="list" aria-label="Danh s√°ch c√°c c√¥ng tr√¨nh">
                    <div class="projects-loading" aria-live="polite">ƒêang t·∫£i danh s√°ch c√¥ng tr√¨nh...</div>
                </div>
            </section>
        </aside>

        <!-- Main Map Container -->
        <main class="map-container" role="region" aria-label="B·∫£n ƒë·ªì c√¥ng tr√¨nh">
            <div id="map" role="application" aria-label="B·∫£n ƒë·ªì t∆∞∆°ng t√°c hi·ªÉn th·ªã c√°c c√¥ng tr√¨nh x√¢y d·ª±ng" tabindex="0">
                <!-- Map will be initialized by JavaScript -->
            </div>

            <!-- Map Controls -->
            <nav class="map-controls" aria-label="ƒêi·ªÅu khi·ªÉn b·∫£n ƒë·ªì">
                <button class="control-btn" id="zoomIn" title="Ph√≥ng to" aria-label="Ph√≥ng to b·∫£n ƒë·ªì">
                    <i class="fas fa-plus" aria-hidden="true"></i>
                </button>
                <button class="control-btn" id="zoomOut" title="Thu nh·ªè" aria-label="Thu nh·ªè b·∫£n ƒë·ªì">
                    <i class="fas fa-minus" aria-hidden="true"></i>
                </button>
                <button class="control-btn" id="resetView" title="V·ªÅ v·ªã tr√≠ Vi·ªát Nam" aria-label="Tr·ªü v·ªÅ v·ªã tr√≠ m·∫∑c ƒë·ªãnh c·ªßa Vi·ªát Nam">
                    <i class="fas fa-home" aria-hidden="true"></i>
                </button>
                <button class="control-btn" id="toggleSatellite" title="Chuy·ªÉn ƒë·ªïi ch·∫ø ƒë·ªô v·ªá tinh" aria-label="Chuy·ªÉn ƒë·ªïi gi·ªØa ch·∫ø ƒë·ªô b·∫£n ƒë·ªì v√† ·∫£nh v·ªá tinh">
                    <i class="fas fa-satellite" aria-hidden="true"></i>
                </button>

                <div class="control-divider" aria-hidden="true"></div>

                <button class="control-btn" id="openLayers" title="M·ªü l·ªõp b·∫£n ƒë·ªì" aria-label="M·ªü b·∫£ng ƒëi·ªÅu khi·ªÉn l·ªõp b·∫£n ƒë·ªì">
                    <i class="fas fa-layer-group" aria-hidden="true"></i>
                </button>
                <button class="control-btn" id="openLegend" title="M·ªü ch√∫ gi·∫£i" aria-label="M·ªü b·∫£ng ch√∫ gi·∫£i m√†u s·∫Øc">
                    <i class="fas fa-info-circle" aria-hidden="true"></i>
                </button>
                <button class="control-btn" id="themeToggle" title="Chuy·ªÉn ƒë·ªïi ch·∫ø ƒë·ªô s√°ng/t·ªëi" aria-label="Chuy·ªÉn ƒë·ªïi ch·∫ø ƒë·ªô s√°ng t·ªëi">
                    <i class="fas fa-moon" aria-hidden="true"></i>
                </button>
                <button class="control-btn" id="exportData" title="Xu·∫•t d·ªØ li·ªáu" aria-label="Xu·∫•t d·ªØ li·ªáu c√¥ng tr√¨nh">
                    <i class="fas fa-download" aria-hidden="true"></i>
                </button>
                <button class="control-btn toggle-controls" id="toggleControls" title="·∫®n/hi·ªán c√¥ng c·ª•" aria-label="·∫®n ho·∫∑c hi·ªán thanh c√¥ng c·ª• b·∫£n ƒë·ªì">
                    <i class="fas fa-chevron-left" aria-hidden="true"></i>
                </button>
            </nav>

            <!-- Map Overlay Panel -->
            <section class="map-overlay" id="mapOverlay" role="dialog" aria-labelledby="mapOverlayTitle" aria-hidden="true">
                <div class="overlay-header">
                    <h3 id="mapOverlayTitle"><i class="fas fa-layer-group" aria-hidden="true"></i> L·ªõp b·∫£n ƒë·ªì</h3>
                    <button class="close-overlay" id="closeOverlay" aria-label="ƒê√≥ng b·∫£ng l·ªõp b·∫£n ƒë·ªì">
                        <i class="fas fa-times" aria-hidden="true"></i>
                    </button>
                </div>
                <div class="layer-control">
                    <input type="checkbox" id="satelliteLayer" checked aria-checked="true">
                    <label for="satelliteLayer">·∫¢nh v·ªá tinh</label>
                </div>
                <div class="layer-control">
                    <input type="checkbox" id="projectLayer" checked aria-checked="true">
                    <label for="projectLayer">ƒêi·ªÉm c√¥ng tr√¨nh</label>
                </div>
                <div class="layer-control">
                    <input type="checkbox" id="provinceLayer" checked aria-checked="true">
                    <label for="provinceLayer">Bi√™n gi·ªõi t·ªânh</label>
                </div>
            </section>

            <!-- Legend Panel -->
            <section class="legend" id="legend" role="dialog" aria-labelledby="legendTitle" aria-hidden="true">
                <div class="overlay-header">
                    <h3 id="legendTitle" class="legend-title">Ch√∫ gi·∫£i</h3>
                    <button class="close-overlay" id="closeLegend" aria-label="ƒê√≥ng b·∫£ng ch√∫ gi·∫£i">
                        <i class="fas fa-times" aria-hidden="true"></i>
                    </button>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #e74c3c;" aria-hidden="true"></div>
                    <div class="legend-label">C√¥ng tr√¨nh th∆∞∆°ng m·∫°i</div>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #3498db;" aria-hidden="true"></div>
                    <div class="legend-label">C√¥ng tr√¨nh giao th√¥ng</div>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #2ecc71;" aria-hidden="true"></div>
                    <div class="legend-label">C√¥ng tr√¨nh c√¥ng nghi·ªáp</div>
                </div>
            </section>

            <!-- Province Info Panel -->
            <section class="province-info" id="provinceInfo" role="dialog" aria-labelledby="provinceName" aria-hidden="true">
                <div class="province-header">
                    <h2 class="province-name" id="provinceName">T√™n t·ªânh</h2>
                    <button class="close-btn" id="closeProvinceInfo" aria-label="ƒê√≥ng th√¥ng tin t·ªânh">
                        <i class="fas fa-times" aria-hidden="true"></i>
                    </button>
                </div>

                <div class="province-stats" aria-label="Th·ªëng k√™ t·ªânh">
                    <div class="province-stat">
                        <div class="province-stat-value" id="provinceProjectCount" aria-live="polite">0</div>
                        <div class="province-stat-label">C√¥ng tr√¨nh</div>
                    </div>
                    <div class="province-stat">
                        <div class="province-stat-value" id="provinceArea" aria-live="polite">0</div>
                        <div class="province-stat-label">Di·ªán t√≠ch (km¬≤)</div>
                    </div>
                    <div class="province-stat">
                        <div class="province-stat-value" id="provincePopulation" aria-live="polite">0</div>
                        <div class="province-stat-label">D√¢n s·ªë (tri·ªáu)</div>
                    </div>
                    <div class="province-stat">
                        <div class="province-stat-value" id="provinceGDP" aria-live="polite">0</div>
                        <div class="province-stat-label">GDP (t·ª∑ USD)</div>
                    </div>
                </div>

                <h3 class="projects-title">
                    <i class="fas fa-list-ul" aria-hidden="true"></i> C√¥ng tr√¨nh trong t·ªânh
                </h3>
                <div id="provinceProjectsList" role="list" aria-label="Danh s√°ch c√¥ng tr√¨nh trong t·ªânh">
                    <!-- Province projects will be populated by JavaScript -->
                </div>
            </section>

            <!-- Project Info Panel -->
            <section class="project-info" id="projectInfo" role="dialog" aria-labelledby="projectInfoTitle" aria-hidden="true">
                <div class="info-header">
                    <h2 class="info-title" id="projectInfoTitle">T√™n c√¥ng tr√¨nh</h2>
                    <button class="close-btn" id="closeInfo" aria-label="ƒê√≥ng th√¥ng tin c√¥ng tr√¨nh">
                        <i class="fas fa-times" aria-hidden="true"></i>
                    </button>
                </div>

                <dl class="info-grid" aria-label="Chi ti·∫øt c√¥ng tr√¨nh">
                    <div class="info-item">
                        <dt class="info-label">T·ªânh/Th√†nh ph·ªë</dt>
                        <dd class="info-value" id="infoProvince">-</dd>
                    </div>
                    <div class="info-item">
                        <dt class="info-label">ƒê·ªãa ch·ªâ</dt>
                        <dd class="info-value" id="infoAddress">-</dd>
                    </div>
                    <div class="info-item">
                        <dt class="info-label">Ch·ªß ƒë·∫ßu t∆∞</dt>
                        <dd class="info-value" id="infoInvestor">-</dd>
                    </div>
                    <div class="info-item">
                        <dt class="info-label">NƒÉm ho√†n th√†nh</dt>
                        <dd class="info-value" id="infoYear">-</dd>
                    </div>
                    <div class="info-item">
                        <dt class="info-label">Quy m√¥</dt>
                        <dd class="info-value" id="infoScale">-</dd>
                    </div>
                    <div class="info-item">
                        <dt class="info-label">T·ªça ƒë·ªô</dt>
                        <dd class="info-value" id="infoCoordinates">-</dd>
                    </div>
                </dl>

                <!-- PH·∫¶N H√åNH ·∫¢NH D·ª∞ √ÅN - CH·ªà HI·ªÇN TH·ªä, KH√îNG CHO UPLOAD -->
                <div class="project-images-section">
                    <div class="images-header">
                        <div class="info-label">
                            <i class="fas fa-images"></i> H√¨nh ·∫£nh d·ª± √°n c·ªßa c√¥ng tr√¨nh
                        </div>
                        <div class="images-update-date" id="imagesUpdateDate">
                            C·∫≠p nh·∫≠t: <span id="updateDateText">-</span>
                        </div>
                    </div>
                    <div class="images-preview" id="imagesPreview">
                        <!-- ·∫¢nh s·∫Ω ƒë∆∞·ª£c hi·ªÉn th·ªã ·ªü ƒë√¢y -->
                    </div>
                    <div class="no-images-message" id="noImagesMessage">
                        <i class="fas fa-image"></i>
                        <p>Ch∆∞a c√≥ h√¨nh ·∫£nh cho d·ª± √°n n√†y</p>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Image Modal -->
    <div class="image-modal" id="imageModal">
        <button class="image-modal-close" id="imageModalClose" aria-label="ƒê√≥ng ·∫£nh">
            <i class="fas fa-times"></i>
        </button>
        <div class="image-modal-nav">
            <button class="nav-btn" id="prevImage" aria-label="·∫¢nh tr∆∞·ªõc">
                <i class="fas fa-chevron-left"></i>
            </button>
            <button class="nav-btn" id="nextImage" aria-label="·∫¢nh sau">
                <i class="fas fa-chevron-right"></i>
            </button>
        </div>
        <img class="image-modal-content" id="modalImage" alt="H√¨nh ·∫£nh c√¥ng tr√¨nh">
        <div class="image-modal-info" id="modalImageInfo"></div>
    </div>

    <!-- Quick View Modal -->
    <div class="quick-view-modal" id="quickViewModal">
        <!-- Content will be populated by JavaScript -->
    </div>

    <!-- No Script Fallback -->
    <noscript>
        <div class="noscript-warning" style="padding: 20px; text-align: center; background: #f8d7da; color: #721c24;">
            <h2>JavaScript b·ªã v√¥ hi·ªáu h√≥a</h2>
            <p>·ª®ng d·ª•ng b·∫£n ƒë·ªì y√™u c·∫ßu JavaScript ƒë·ªÉ ho·∫°t ƒë·ªông. Vui l√≤ng b·∫≠t JavaScript trong tr√¨nh duy·ªát c·ªßa b·∫°n.</p>
        </div>
    </noscript>

    <!-- Screen Reader Only Text -->
    <div class="sr-only" id="srAnnouncements" aria-live="polite" aria-atomic="true"></div>

    <!-- Main JavaScript -->
    <script src="Codebando.js"></script>
    <script src="main.js"></script>
</body>

</html>