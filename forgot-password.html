<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quên Mật Khẩu - Hệ thống Bản đồ Công trình 319</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="319logo.png" sizes="32x32">
    <link rel="shortcut icon" href="319logo.png" type="image/x-icon">
    <link rel="apple-touch-icon" href="319logo.png">
    <style>
         :root {
            --primary-color: #1a73e8;
            --primary-light: #4285f4;
            --primary-dark: #0d47a1;
            --secondary-color: #34a853;
            --accent-color: #fbbc05;
            --light-color: #ffffff;
            --dark-color: #202124;
            --gray-light: #f8f9fa;
            --gray-medium: #dadce0;
            --gray-dark: #5f6368;
            --error-color: #ea4335;
            --success-color: #34a853;
            --shadow-light: 0 4px 20px rgba(0, 0, 0, 0.08);
            --shadow-medium: 0 8px 30px rgba(0, 0, 0, 0.12);
            --shadow-strong: 0 12px 40px rgba(0, 0, 0, 0.15);
            --gradient-primary: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-light) 100%);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
        }
        
        body {
            background: linear-gradient(-45deg, #e3f2fd, #f3e5f5, #e8f5e8, #fff3e0);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            color: var(--dark-color);
            padding: 20px;
        }
        
        @keyframes gradientShift {
            0% {
                background-position: 0% 50%;
            }
            50% {
                background-position: 100% 50%;
            }
            100% {
                background-position: 0% 50%;
            }
        }
        
        .forgot-container {
            width: 100%;
            max-width: 500px;
            background: var(--light-color);
            border-radius: 24px;
            box-shadow: var(--shadow-strong);
            padding: 50px 40px;
            position: relative;
            animation: containerFloat 6s ease-in-out infinite;
        }
        
        @keyframes containerFloat {
            0%,
            100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-10px);
            }
        }
        
        .logo-section {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 30px;
            gap: 15px;
        }
        
        .logo-frame {
            width: 80px;
            height: 80px;
            background: white;
            border-radius: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: var(--shadow-light);
            overflow: hidden;
            border: 2px solid var(--primary-color);
        }
        
        .logo-frame img {
            width: 85%;
            height: 85%;
            object-fit: contain;
            border-radius: 12px;
        }
        
        .logo-text {
            font-size: 24px;
            font-weight: 700;
            line-height: 1.2;
            color: var(--primary-color);
        }
        
        .logo-subtext {
            font-size: 14px;
            color: var(--gray-dark);
            margin-top: 2px;
        }
        
        h1 {
            font-size: 28px;
            color: var(--dark-color);
            margin-bottom: 10px;
            text-align: center;
        }
        
        .subtitle {
            text-align: center;
            color: var(--gray-dark);
            margin-bottom: 30px;
            line-height: 1.5;
        }
        
        .form-group {
            margin-bottom: 25px;
        }
        
        label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: var(--dark-color);
        }
        
        .input-with-icon {
            position: relative;
        }
        
        .input-with-icon i {
            position: absolute;
            left: 18px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray-dark);
        }
        
        input,
        select,
        textarea {
            width: 100%;
            padding: 16px 20px 16px 50px;
            border: 2px solid var(--gray-medium);
            border-radius: 12px;
            font-size: 16px;
            transition: all 0.3s ease;
            background: var(--light-color);
        }
        
        textarea {
            padding: 16px 20px;
            min-height: 100px;
            resize: vertical;
        }
        
        input:focus,
        select:focus,
        textarea:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 4px rgba(26, 115, 232, 0.1);
        }
        
        .btn-submit {
            width: 100%;
            padding: 16px;
            background: var(--gradient-primary);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 17px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 10px;
            position: relative;
            overflow: hidden;
        }
        
        .btn-submit:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 15px rgba(26, 115, 232, 0.3);
        }
        
        .btn-submit:active {
            transform: translateY(-1px);
        }
        
        .btn-submit::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.7s ease;
        }
        
        .btn-submit:hover::before {
            left: 100%;
        }
        
        .auth-links {
            text-align: center;
            margin-top: 25px;
        }
        
        .auth-links a {
            color: var(--primary-color);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s ease;
        }
        
        .auth-links a:hover {
            color: var(--primary-dark);
            text-decoration: underline;
        }
        
        .message {
            padding: 16px;
            border-radius: 12px;
            margin-bottom: 25px;
            text-align: center;
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .success-message {
            background: rgba(52, 168, 83, 0.1);
            color: var(--success-color);
            border-left: 4px solid var(--success-color);
        }
        
        .error-message {
            background: rgba(234, 67, 53, 0.1);
            color: var(--error-color);
            border-left: 4px solid var(--error-color);
        }
        
        .info-box {
            background: #e3f2fd;
            border-left: 4px solid var(--primary-color);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 25px;
            text-align: left;
        }
        
        .info-box h3 {
            color: var(--primary-color);
            margin-bottom: 10px;
            font-size: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .info-box p {
            font-size: 14px;
            color: var(--gray-dark);
            line-height: 1.5;
        }
        
        .process-steps {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            position: relative;
        }
        
        .process-steps::before {
            content: '';
            position: absolute;
            top: 20px;
            left: 25%;
            right: 25%;
            height: 2px;
            background: var(--gray-medium);
            z-index: 1;
        }
        
        .step {
            text-align: center;
            position: relative;
            z-index: 2;
            flex: 1;
        }
        
        .step-icon {
            width: 40px;
            height: 40px;
            background: var(--light-color);
            border: 2px solid var(--gray-medium);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 10px;
            color: var(--gray-dark);
            transition: all 0.3s ease;
        }
        
        .step.active .step-icon {
            background: var(--primary-color);
            border-color: var(--primary-color);
            color: white;
        }
        
        .step-text {
            font-size: 12px;
            color: var(--gray-dark);
            font-weight: 500;
        }
        
        .step.active .step-text {
            color: var(--primary-color);
            font-weight: 600;
        }
        
        .footer {
            text-align: center;
            margin-top: 30px;
            font-size: 12px;
            color: var(--gray-dark);
        }
        
        @media (max-width: 480px) {
            .forgot-container {
                padding: 30px 20px;
                border-radius: 16px;
            }
            .logo-section {
                flex-direction: column;
                text-align: center;
            }
            .process-steps {
                flex-direction: column;
                gap: 20px;
            }
            .process-steps::before {
                display: none;
            }
            .step {
                display: flex;
                align-items: center;
                gap: 15px;
                text-align: left;
            }
            .step-icon {
                margin: 0;
                flex-shrink: 0;
            }
        }
    </style>
</head>

<body>
    <div class="forgot-container">
        <div class="logo-section">
            <div class="logo-frame">
                <!-- THAY THẾ ĐƯỜNG DẪN LOGO CỦA BẠN Ở ĐÂY -->
                <img src="319logo.png" alt="Tổng Công ty 319 Bộ Quốc phòng" onerror="this.style.display='none'; this.parentNode.innerHTML='319'; this.parentNode.style.color='#1a73e8'; this.parentNode.style.fontWeight='bold'; this.parentNode.style.fontSize='24px'; this.parentNode.style.display='flex'; this.parentNode.style.alignItems='center'; this.parentNode.style.justifyContent='center';">
            </div>
            <div>
                <div class="logo-text">TỔNG CÔNG TY 319</div>
                <div class="logo-subtext">BỘ QUỐC PHÒNG</div>
            </div>
        </div>

        <h2>Khôi phục mật khẩu</h2>
        <p class="subtitle">Nhập thông tin để yêu cầu cấp lại mật khẩu</p>

        <div class="process-steps">
            <div class="step active">
                <div class="step-icon">
                    <i class="fas fa-key"></i>
                </div>
                <div class="step-text">Yêu cầu</div>
            </div>
            <div class="step">
                <div class="step-icon">
                    <i class="fas fa-envelope"></i>
                </div>
                <div class="step-text">Xác nhận</div>
            </div>
            <div class="step">
                <div class="step-icon">
                    <i class="fas fa-check"></i>
                </div>
                <div class="step-text">Hoàn tất</div>
            </div>
        </div>

        <div class="info-box">
            <h3><i class="fas fa-info-circle"></i> Thông tin quan trọng</h3>
            <p>Yêu cầu cấp lại mật khẩu sẽ được gửi đến quản trị viên. Mật khẩu mới sẽ được gửi về email của bạn sau khi được phê duyệt trong vòng 24 giờ.</p>
        </div>

        <div id="successMessage" class="message success-message">
            <i class="fas fa-check-circle"></i> Đã gửi yêu cầu thành công! Chúng tôi sẽ xử lý và gửi mật khẩu mới qua email trong vòng 24h.
        </div>

        <div id="errorMessage" class="message error-message">
            <i class="fas fa-exclamation-circle"></i> Có lỗi xảy ra! Vui lòng thử lại sau.
        </div>

        <form id="forgotForm">
            <div class="form-group">
                <label for="username">Tên đăng nhập *</label>
                <div class="input-with-icon">
                    <i class="fas fa-user"></i>
                    <input type="text" id="username" placeholder="Nhập tên đăng nhập của bạn" required>
                </div>
            </div>

            <div class="form-group">
                <label for="email">Email đăng ký *</label>
                <div class="input-with-icon">
                    <i class="fas fa-envelope"></i>
                    <input type="email" id="email" placeholder="Nhập email đã đăng ký tài khoản" required>
                </div>
            </div>

            <div class="form-group">
                <label for="fullName">Họ và tên *</label>
                <div class="input-with-icon">
                    <i class="fas fa-user-tag"></i>
                    <input type="text" id="fullName" placeholder="Nhập họ và tên đầy đủ" required>
                </div>
            </div>

            <div class="form-group">
                <label for="reason">Lý do yêu cầu *</label>
                <div class="input-with-icon">
                    <i class="fas fa-comment"></i>
                    <select id="reason" required>
                        <option value="">Chọn lý do yêu cầu</option>
                        <option value="forgot">Quên mật khẩu</option>
                        <option value="locked">Tài khoản bị khóa</option>
                        <option value="security">Vấn đề bảo mật</option>
                        <option value="other">Lý do khác</option>
                    </select>
                </div>
            </div>

            <div class="form-group">
                <label for="description">Mô tả chi tiết *</label>
                <textarea id="description" placeholder="Mô tả chi tiết lý do yêu cầu cấp lại mật khẩu..." required></textarea>
            </div>

            <button type="submit" class="btn-submit">GỬI YÊU CẦU CẤP LẠI MẬT KHẨU</button>
        </form>

        <div class="auth-links">
            <a href="login.html"><i class="fas fa-arrow-left"></i> Quay lại đăng nhập</a>
        </div>

        <div class="footer">
            Hệ thống bản đồ công trình 319 - Phiên bản 3.0<br> Yêu cầu sẽ được xử lý trong vòng 24 giờ làm việc
        </div>
    </div>

    <script>
        document.getElementById('forgotForm').addEventListener('submit', function(e) {
            e.preventDefault();

            const formData = {
                username: document.getElementById('username').value,
                email: document.getElementById('email').value,
                fullName: document.getElementById('fullName').value,
                reason: document.getElementById('reason').value,
                description: document.getElementById('description').value,
                timestamp: new Date().toLocaleString('vi-VN'),
                type: 'password_reset'
            };

            // Gửi yêu cầu (mô phỏng)
            sendPasswordResetRequest(formData);
        });

        function sendPasswordResetRequest(data) {
            const btn = document.querySelector('.btn-submit');
            const successMessage = document.getElementById('successMessage');
            const errorMessage = document.getElementById('errorMessage');

            // Ẩn các thông báo cũ
            successMessage.style.display = 'none';
            errorMessage.style.display = 'none';

            // Hiệu ứng loading
            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Đang gửi yêu cầu...';
            btn.disabled = true;

            // Mô phỏng gửi email đến quản trị viên
            setTimeout(() => {
                // Trong thực tế, đây sẽ là API call đến server
                console.log('Gửi email yêu cầu cấp lại mật khẩu đến: lengocnguyen2012@gmail.com');
                console.log('Dữ liệu yêu cầu:', data);

                // Giả lập thành công
                const isSuccess = Math.random() > 0.2; // 80% thành công

                if (isSuccess) {
                    // Hiển thị thông báo thành công
                    successMessage.style.display = 'block';
                    document.getElementById('forgotForm').reset();

                    // Cập nhật trạng thái steps
                    updateProcessSteps(2);
                } else {
                    // Hiển thị thông báo lỗi
                    errorMessage.style.display = 'block';
                }

                // Reset button
                setTimeout(() => {
                    btn.innerHTML = 'GỬI YÊU CẦU CẤP LẠI MẬT KHẨU';
                    btn.disabled = false;
                }, 2000);
            }, 2000);
        }

        function updateProcessSteps(stepNumber) {
            // Reset tất cả steps
            document.querySelectorAll('.step').forEach(step => {
                step.classList.remove('active');
            });

            // Kích hoạt step hiện tại
            for (let i = 1; i <= stepNumber; i++) {
                const step = document.querySelector(`.step:nth-child(${i})`);
                if (step) {
                    step.classList.add('active');
                }
            }
        }

        // Hiệu ứng cho các step
        document.querySelectorAll('.step').forEach((step, index) => {
            step.style.animationDelay = `${index * 0.2}s`;
        });

        // Thêm animation cho container
        const style = document.createElement('style');
        style.textContent = `
            .step {
                animation: fadeInUp 0.6s ease both;
            }
            
            @keyframes fadeInUp {
                from {
                    opacity: 0;
                    transform: translateY(20px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>

</html>